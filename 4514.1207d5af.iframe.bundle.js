"use strict";(self.webpackChunkperseus=self.webpackChunkperseus||[]).push([[4514],{"./node_modules/@khanacademy/wonder-blocks-popover/dist/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J2:()=>Popover,wV:()=>PopoverContentCore});var react=__webpack_require__("./node_modules/react/index.js"),react_namespaceObject=__webpack_require__.t(react,2),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),lib=__webpack_require__("./node_modules/aphrodite/lib/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function flatten(list){const result=[];if(!list)return result;if(Array.isArray(list))for(const item of list)result.push(...flatten(item));else result.push(list);return result}function processStyleList(style){const stylesheetStyles=[],inlineStyles=[];if(!style)return{style:{},className:""};const shouldInlineStyles=void 0!==__webpack_require__.g&&__webpack_require__.g.SNAPSHOT_INLINE_APHRODITE;flatten(style).forEach((child=>{const _definition=child._definition;if(null!=_definition)if(shouldInlineStyles){const def={};for(const[key,value]of Object.entries(_definition))def[key.replace(/-[a-z]/g,(match=>match[1].toUpperCase()))]=value;inlineStyles.push(def)}else stylesheetStyles.push(child);else inlineStyles.push(child)}));const inlineStylesObject=Object.assign({},...inlineStyles);if(inlineStyles.length>0&&!shouldInlineStyles){const inlineStylesStyleSheet=lib.StyleSheet.create({inlineStyles:inlineStylesObject});stylesheetStyles.push(inlineStylesStyleSheet.inlineStyles)}return{style:shouldInlineStyles?inlineStylesObject:{},className:(0,lib.css)(...stylesheetStyles)}}const _excluded$2=["children","style","tag","testId"],isHeaderRegex=/^h[1-6]$/,styles$1=lib.StyleSheet.create({text:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},header:{marginTop:0,marginBottom:0}});class es_Text extends react.Component{render(){const _this$props=this.props,{children,style,tag:Tag,testId}=_this$props,otherProps=_objectWithoutPropertiesLoose(_this$props,_excluded$2),isHeader=isHeaderRegex.test(Tag),styleAttributes=processStyleList([styles$1.text,isHeader&&styles$1.header,style]);return react.createElement(Tag,_extends({},otherProps,{style:styleAttributes.style,className:styleAttributes.className,"data-test-id":testId}),children)}}es_Text.defaultProps={tag:"span"};const _excluded$1=["className","style"];function addStyle(Component,defaultStyle){return react.forwardRef(((props,ref)=>{const{className,style}=props,otherProps=_objectWithoutPropertiesLoose(props,_excluded$1),reset="string"==typeof Component?overrides[Component]:null,{className:aphroditeClassName,style:inlineStyles}=processStyleList([reset,defaultStyle,style]);return react.createElement(Component,_extends({},otherProps,{ref,className:[aphroditeClassName,className].filter(Boolean).join(" "),style:inlineStyles}))}))}const overrides=lib.StyleSheet.create({button:{margin:0,"::-moz-focus-inner":{border:0}}}),_excluded=["testId","tag"],styles=lib.StyleSheet.create({default:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),StyledDiv=addStyle("div",styles.default),StyledArticle=addStyle("article",styles.default),StyledAside=addStyle("aside",styles.default),StyledNav=addStyle("nav",styles.default),StyledSection=addStyle("section",styles.default);class View extends react.Component{render(){const _this$props=this.props,{testId,tag}=_this$props,props=_extends({},_objectWithoutPropertiesLoose(_this$props,_excluded),{"data-test-id":testId});switch(tag){case"article":return react.createElement(StyledArticle,props);case"aside":return react.createElement(StyledAside,props);case"nav":return react.createElement(StyledNav,props);case"section":return react.createElement(StyledSection,props);case"div":return react.createElement(StyledDiv,props);default:throw Error(`${tag} is not an allowed value for the 'tag' prop`)}}}View.defaultProps={tag:"div"};const RenderState_Root="root",RenderState_Initial="initial",RenderState_Standard="standard",RenderStateContext=react.createContext(RenderState_Root);class WithSSRPlaceholder extends react.Component{constructor(...args){super(...args),this.state={mounted:!1},this._isTheRootComponent=!1}componentDidMount(){this._isTheRootComponent&&this.setState({mounted:!0})}_renderAsRootComponent(){const{mounted}=this.state,{children,placeholder}=this.props;return this._isTheRootComponent=!0,mounted?react.createElement(RenderStateContext.Provider,{value:RenderState_Standard},children()):placeholder?react.createElement(RenderStateContext.Provider,{value:RenderState_Initial},placeholder()):null}_maybeRender(renderState){const{children,placeholder}=this.props;switch(renderState){case RenderState_Root:return this._renderAsRootComponent();case RenderState_Initial:return placeholder?placeholder():null;case RenderState_Standard:return children()}var _JSON$stringify;return console.log(`We got a render state we don't understand: "${null!=(_JSON$stringify=JSON.stringify(renderState))?_JSON$stringify:""}"`),this._maybeRender(RenderState_Root)}render(){return react.createElement(RenderStateContext.Consumer,null,(value=>this._maybeRender(value)))}}class UniqueIDFactory{constructor(scope){this._uniqueFactoryName=void 0,this.get=key=>{const normalizedKey=key.toLowerCase();if(!this._hasValidIdChars(key))throw new Error(`Invalid identifier key: ${key}`);return`${this._uniqueFactoryName}-${normalizedKey}`};const normalizedScope=(scope="string"==typeof scope?scope:"").toLowerCase();if(!this._hasValidIdChars(normalizedScope))throw new Error(`Invalid factory scope: ${scope}`);this._uniqueFactoryName=`uid-${normalizedScope}-${UniqueIDFactory._factoryUniquenessCounter++}`}_hasValidIdChars(value){if("string"!=typeof value)return!1;const invalidCharsReplaced=value.replace(/[^\d\w-]/g,"-");return value===invalidCharsReplaced}}UniqueIDFactory._factoryUniquenessCounter=0;class SsrIDFactory{get(id){return id}}SsrIDFactory.Default=new SsrIDFactory;var SsrIDFactory$1=SsrIDFactory.Default;class UniqueIDProvider extends react.Component{constructor(...args){super(...args),this._idFactory=void 0}_performRender(firstRender){const{children,mockOnFirstRender,scope}=this.props;return firstRender?mockOnFirstRender?children(SsrIDFactory$1):null:(this._idFactory||(this._idFactory=new UniqueIDFactory(scope)),children(this._idFactory))}render(){return react.createElement(WithSSRPlaceholder,{placeholder:()=>this._performRender(!0)},(()=>this._performRender(!1)))}}class IDProvider extends react.Component{renderChildren(ids){const{id,children}=this.props,uniqueId=ids?ids.get(IDProvider.defaultId):id;if(!uniqueId)throw new Error("Did not get an identifier factory nor a id prop");return children(uniqueId)}render(){const{id,scope}=this.props;return id?this.renderChildren():react.createElement(UniqueIDProvider,{scope,mockOnFirstRender:!0},(ids=>this.renderChildren(ids)))}}IDProvider.defaultId="wb-id";const{useEffect:es_useEffect,useState:es_useState}=react_namespaceObject;var es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-spacing/dist/es/index.js");function es_extends(){return es_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},es_extends.apply(this,arguments)}const mediaDefaultSpecLargeMarginWidth=es.Z.large_24,MEDIA_DEFAULT_SPEC={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:es.Z.medium_16,marginWidth:es.Z.medium_16},medium:{query:"(min-width: 768px) and (max-width: 1023px)",totalColumns:8,gutterWidth:es.Z.xLarge_32,marginWidth:es.Z.large_24},large:{query:"(min-width: 1024px)",totalColumns:12,gutterWidth:es.Z.xLarge_32,marginWidth:mediaDefaultSpecLargeMarginWidth,maxWidth:1120+2*mediaDefaultSpecLargeMarginWidth}},MEDIA_INTERNAL_SPEC={large:{query:"(min-width: 1px)",totalColumns:12,gutterWidth:es.Z.xLarge_32,marginWidth:es.Z.medium_16}},MEDIA_MODAL_SPEC={small:{query:"(max-width: 767px)",totalColumns:4,gutterWidth:es.Z.medium_16,marginWidth:es.Z.medium_16},large:{query:"(min-width: 768px)",totalColumns:12,gutterWidth:es.Z.xLarge_32,marginWidth:es.Z.xxLarge_48}},defaultContext={ssrSize:"large",mediaSpec:MEDIA_DEFAULT_SPEC};var MediaLayoutContext=react.createContext(defaultContext);const queries=[...Object.values(MEDIA_DEFAULT_SPEC).map((spec=>spec.query)),...Object.values(MEDIA_INTERNAL_SPEC).map((spec=>spec.query)),...Object.values(MEDIA_MODAL_SPEC).map((spec=>spec.query))],mediaQueryLists={};class MediaLayoutInternal extends react.Component{constructor(props){super(props),this.cleanupThunks=void 0,this.state={size:void 0},this.cleanupThunks=[]}componentDidMount(){const entries=Object.entries(this.props.mediaSpec);for(const[size,spec]of entries){const mql=mediaQueryLists[spec.query];if(!mql)continue;const listener=e=>{e.matches&&this.setState({size})};mql.addListener(listener),this.cleanupThunks.push((()=>mql.removeListener(listener)))}}componentWillUnmount(){this.cleanupThunks.forEach((cleaup=>cleaup()))}getCurrentSize(spec){if(this.state.size)return this.state.size;{const entries=Object.entries(this.props.mediaSpec);for(const[size,_spec]of entries){if(mediaQueryLists[_spec.query].matches)return size}}return"large"}isServerSide(){return"undefined"==typeof window||!window.matchMedia}getMockStyleSheet(mediaSize){const{styleSheets}=this.props,mockStyleSheet={};if(!styleSheets)return mockStyleSheet;for(const styleSize of Object.keys(styleSheets)){const styleSheet=styleSheets[styleSize];if(styleSheet)for(const name of Object.keys(styleSheet))Object.prototype.hasOwnProperty.call(mockStyleSheet,name)||(mockStyleSheet[name]=[styleSheets.all&&styleSheets.all[name],"small"===mediaSize&&[styleSheets.mdOrSmaller&&styleSheets.mdOrSmaller[name],styleSheets.small&&styleSheets.small[name]],"medium"===mediaSize&&[styleSheets.mdOrSmaller&&styleSheets.mdOrSmaller[name],styleSheets.mdOrLarger&&styleSheets.mdOrLarger[name],styleSheets.medium&&styleSheets.medium[name]],"large"===mediaSize&&[styleSheets.mdOrLarger&&styleSheets.mdOrLarger[name],styleSheets.large&&styleSheets.large[name]]])}return mockStyleSheet}render(){const{children,mediaSpec,ssrSize,overrideSize}=this.props;if(!this.isServerSide())for(const query of queries.filter((query=>!mediaQueryLists[query])))mediaQueryLists[query]=window.matchMedia(query);const mediaSize=overrideSize||this.isServerSide()&&ssrSize||this.getCurrentSize(mediaSpec);return children({mediaSize,mediaSpec,styles:this.getMockStyleSheet(mediaSize)})}}class MediaLayout extends react.Component{render(){return react.createElement(MediaLayoutContext.Consumer,null,(({overrideSize,ssrSize,mediaSpec})=>react.createElement(MediaLayoutInternal,es_extends({},this.props,{overrideSize,ssrSize,mediaSpec}))))}}react.Component;lib.StyleSheet.create({grow:{flexGrow:1}});class Strut extends react.Component{render(){const{size,style}=this.props;return react.createElement(View,{"aria-hidden":"true",style:[strutStyle(size),style]})}}const strutStyle=size=>({width:size,MsFlexBasis:size,MsFlexPreferredSize:size,WebkitFlexBasis:size,flexBasis:size,flexShrink:0});var dist_es=__webpack_require__("./node_modules/@khanacademy/wonder-blocks-color/dist/es/index.js");function dist_es_extends(){return dist_es_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},dist_es_extends.apply(this,arguments)}const mobile="@media (max-width: 1023px)",desktop="@media (min-width: 1024px)",common={display:"block"},SansFamily='Lato, "Noto Sans", sans-serif',dist_es_styles=lib.StyleSheet.create({Title:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:900,[desktop]:{fontSize:36,lineHeight:"40px"},[mobile]:{fontSize:28,lineHeight:"32px"}}),Tagline:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:400,fontSize:20,lineHeight:"24px"}),HeadingLarge:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:700,[desktop]:{fontSize:28,lineHeight:"32px"},[mobile]:{fontSize:24,lineHeight:"28px"}}),HeadingMedium:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:700,[desktop]:{fontSize:24,lineHeight:"28px"},[mobile]:{fontSize:22,lineHeight:"26px"}}),HeadingSmall:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:700,fontSize:20,lineHeight:"24px"}),HeadingXSmall:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:700,fontSize:12,lineHeight:"16px",letterSpacing:.6,textTransform:"uppercase"}),BodySerifBlock:dist_es_extends({},common,{fontFamily:'"Noto Serif", serif',fontWeight:400,fontSize:22,lineHeight:"28px"}),BodySerif:dist_es_extends({},common,{fontFamily:'"Noto Serif", serif',fontWeight:400,fontSize:18,lineHeight:"22px"}),BodyMonospace:dist_es_extends({},common,{fontFamily:"Inconsolata, monospace",fontWeight:400,fontSize:17,lineHeight:"22px"}),Body:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:400,fontSize:16,lineHeight:"22px"}),LabelLarge:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:700,fontSize:16,lineHeight:"20px"}),LabelMedium:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:400,fontSize:16,lineHeight:"20px"}),LabelSmall:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:400,fontSize:14,lineHeight:"18px"}),LabelXSmall:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:400,fontSize:12,lineHeight:"16px"}),Caption:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:400,fontSize:14,lineHeight:"20px"}),Footnote:dist_es_extends({},common,{fontFamily:SansFamily,fontWeight:400,fontSize:12,lineHeight:"18px"})});function es_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}const _excluded$f=["style","children"];class Title extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$f);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.Title,style]}),children)}}Title.defaultProps={tag:"h1"};const _excluded$e=["style","children"];class HeadingLarge extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$e);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.HeadingLarge,style]}),children)}}HeadingLarge.defaultProps={tag:"h2"};const _excluded$d=["style","children"];class HeadingMedium extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$d);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.HeadingMedium,style]}),children)}}HeadingMedium.defaultProps={tag:"h3"};const _excluded$c=["style","children"];class HeadingSmall extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$c);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.HeadingSmall,style]}),children)}}HeadingSmall.defaultProps={tag:"h4"};const _excluded$b=["style","children"];class HeadingXSmall extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$b);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.HeadingXSmall,style]}),children)}}HeadingXSmall.defaultProps={tag:"h4"};const _excluded$a=["style","children"];class BodySerifBlock extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$a);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.BodySerifBlock,style]}),children)}}BodySerifBlock.defaultProps={tag:"span"};const _excluded$9=["style","children"];class BodySerif extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$9);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.BodySerif,style]}),children)}}BodySerif.defaultProps={tag:"span"};const _excluded$8=["style","children"];class BodyMonospace extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$8);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.BodyMonospace,style]}),children)}}BodyMonospace.defaultProps={tag:"span"};const _excluded$7=["style","children"];class Body extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$7);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.Body,style]}),children)}}Body.defaultProps={tag:"span"};const _excluded$6=["style","children"];class LabelLarge extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$6);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.LabelLarge,style]}),children)}}LabelLarge.defaultProps={tag:"span"};const _excluded$5=["style","children"];class LabelMedium extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$5);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.LabelMedium,style]}),children)}}LabelMedium.defaultProps={tag:"span"};const _excluded$4=["style","children"];class LabelSmall extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$4);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.LabelSmall,style]}),children)}}LabelSmall.defaultProps={tag:"span"};const _excluded$3=["style","children"];class LabelXSmall extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,_excluded$3);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.LabelXSmall,style]}),children)}}LabelXSmall.defaultProps={tag:"span"};const es_excluded$2=["style","children"];class Tagline extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,es_excluded$2);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.Tagline,style]}),children)}}Tagline.defaultProps={tag:"span"};const es_excluded$1=["style","children"];class Caption extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,es_excluded$1);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.Caption,style]}),children)}}Caption.defaultProps={tag:"span"};const es_excluded=["style","children"];class Footnote extends react.Component{render(){const _this$props=this.props,{style,children}=_this$props,otherProps=es_objectWithoutPropertiesLoose(_this$props,es_excluded);return react.createElement(es_Text,dist_es_extends({},otherProps,{style:[dist_es_styles.Footnote,style]}),children)}}Footnote.defaultProps={tag:"span"};const SchedulePolicy_Immediately="schedule-immediately",ClearPolicy_Resolve="resolve-on-clear",ClearPolicy_Cancel="cancel-on-clear";class Timeout{constructor(action,timeoutMs,schedulePolicy=SchedulePolicy_Immediately){if(this._timeoutId=void 0,this._action=void 0,this._timeoutMs=void 0,"function"!=typeof action)throw new Error("Action must be a function");if(timeoutMs<0)throw new Error("Timeout period must be >= 0");this._action=action,this._timeoutMs=timeoutMs,schedulePolicy===SchedulePolicy_Immediately&&this.set()}get isSet(){return null!=this._timeoutId}set(){this.isSet&&this.clear(ClearPolicy_Cancel),this._timeoutId=setTimeout((()=>this.clear(ClearPolicy_Resolve)),this._timeoutMs)}clear(policy=ClearPolicy_Cancel){const timeoutId=this._timeoutId;this._timeoutId=null,null!=timeoutId&&(clearTimeout(timeoutId),policy===ClearPolicy_Resolve&&this._action())}}class Interval{constructor(action,intervalMs,schedulePolicy=SchedulePolicy_Immediately){if(this._intervalId=void 0,this._action=void 0,this._intervalMs=void 0,"function"!=typeof action)throw new Error("Action must be a function");if(intervalMs<1)throw new Error("Interval period must be >= 1");this._action=action,this._intervalMs=intervalMs,schedulePolicy===SchedulePolicy_Immediately&&this.set()}get isSet(){return null!=this._intervalId}set(){this.isSet&&this.clear(ClearPolicy_Cancel),this._intervalId=setInterval((()=>this._action()),this._intervalMs)}clear(policy=ClearPolicy_Cancel){const intervalId=this._intervalId;this._intervalId=null,null!=intervalId&&(clearInterval(intervalId),policy===ClearPolicy_Resolve&&this._action())}}class AnimationFrame{constructor(action,schedulePolicy=SchedulePolicy_Immediately){if(this._animationFrameId=void 0,this._action=void 0,"function"!=typeof action)throw new Error("Action must be a function");this._action=action,schedulePolicy===SchedulePolicy_Immediately&&this.set()}get isSet(){return null!=this._animationFrameId}set(){this.isSet&&this.clear(ClearPolicy_Cancel),this._animationFrameId=requestAnimationFrame((time=>this.clear(ClearPolicy_Resolve,time)))}clear(policy=ClearPolicy_Cancel,time){const animationFrameId=this._animationFrameId;this._animationFrameId=null,null!=animationFrameId&&(cancelAnimationFrame(animationFrameId),policy===ClearPolicy_Resolve&&this._action(time||performance.now()))}}class ActionScheduler{constructor(){this._disabled=!1,this._registeredActions=[]}timeout(action,period,options){if(this._disabled)return ActionScheduler.NoopAction;const timeout=new Timeout(action,period,null==options?void 0:options.schedulePolicy);return this._registeredActions.push((()=>timeout.clear(null==options?void 0:options.clearPolicy))),timeout}interval(action,period,options){if(this._disabled)return ActionScheduler.NoopAction;const interval=new Interval(action,period,null==options?void 0:options.schedulePolicy);return this._registeredActions.push((()=>interval.clear(null==options?void 0:options.clearPolicy))),interval}animationFrame(action,options){if(this._disabled)return ActionScheduler.NoopAction;const animationFrame=new AnimationFrame(action,null==options?void 0:options.schedulePolicy);return this._registeredActions.push((()=>animationFrame.clear(null==options?void 0:options.clearPolicy))),animationFrame}clearAll(){const registered=[...this._registeredActions];this._registeredActions=[],registered.forEach((clearFn=>clearFn()))}disable(){this._disabled=!0,this.clearAll()}}ActionScheduler.NoopAction={set:()=>{},get isSet(){return!1},clear:()=>{}};class ActionSchedulerProvider extends react.Component{constructor(...args){super(...args),this._actionScheduler=new ActionScheduler}componentWillUnmount(){this._actionScheduler.disable()}render(){const{children}=this.props;return children(this._actionScheduler)}}function wonder_blocks_timing_dist_es_extends(){return wonder_blocks_timing_dist_es_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},wonder_blocks_timing_dist_es_extends.apply(this,arguments)}function wonder_blocks_icon_dist_es_extends(){return wonder_blocks_icon_dist_es_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},wonder_blocks_icon_dist_es_extends.apply(this,arguments)}const viewportPixelsForSize=size=>({small:16,medium:24,large:48,xlarge:96}[size]),dist_es_excluded=["color","icon","size","style","testId"],StyledSVG=addStyle("svg");class Icon extends react.PureComponent{render(){const _this$props=this.props,{color,icon,size,style,testId}=_this$props,sharedProps=function dist_es_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_this$props,dist_es_excluded),{assetSize,path}=((icon,size)=>{if("number"==typeof icon[size])return{assetSize:size,path:icon[size]};{const desiredPixelSize=viewportPixelsForSize(size),availableSizes=Object.keys(icon),sortFn=availableSize=>{const tooLargeByPixels=viewportPixelsForSize(availableSize)-desiredPixelSize;return tooLargeByPixels>0?Number.POSITIVE_INFINITY:Math.abs(tooLargeByPixels)},bestAssetSize=availableSizes.sort(((a,b)=>sortFn(a)-sortFn(b)))[0];if(bestAssetSize&&icon[bestAssetSize])return{assetSize:bestAssetSize,path:icon[bestAssetSize]};throw new Error("Icon does not contain any valid asset sizes!")}})(icon,size),pixelSize=viewportPixelsForSize(size),viewboxPixelSize=viewportPixelsForSize(assetSize);return react.createElement(StyledSVG,wonder_blocks_icon_dist_es_extends({},sharedProps,{style:[wonder_blocks_icon_dist_es_styles.svg,style],width:pixelSize,height:pixelSize,viewBox:`0 0 ${viewboxPixelSize} ${viewboxPixelSize}`,"data-test-id":testId}),react.createElement("path",{fill:color,d:path}))}}Icon.defaultProps={color:"currentColor",size:"small"};const wonder_blocks_icon_dist_es_styles=lib.StyleSheet.create({svg:{display:"inline-block",verticalAlign:"text-bottom",flexShrink:0,flexGrow:0}});var iconAssets=Object.freeze({__proto__:null,add:{medium:"M11 11V7a1 1 0 0 1 2 0v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H7a1 1 0 0 1 0-2h4zm1 13C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"},caretDown:{small:"M8 8.586l3.293-3.293a1 1 0 0 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 1.414-1.414L8 8.586z",medium:"M17.293 8.293a1 1 0 0 1 1.414 1.414l-6 6a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 1.414-1.414L12 13.586l5.293-5.293z"},caretLeft:{small:"M7.414 8l3.293 3.293a1 1 0 0 1-1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 1.414L7.414 8z",medium:"M15.707 17.293a1 1 0 0 1-1.414 1.414l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L10.414 12l5.293 5.293z"},caretRight:{small:"M8.586 8L5.293 4.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414L8.586 8z",medium:"M8.293 17.293a1 1 0 0 0 1.414 1.414l6-6a1 1 0 0 0 0-1.414l-6-6a1 1 0 0 0-1.414 1.414L13.586 12l-5.293 5.293z"},caretUp:{small:"M8 7.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L8 7.414z",medium:"M17.293 15.707a1 1 0 0 0 1.414-1.414l-6-6a1 1 0 0 0-1.414 0l-6 6a1 1 0 0 0 1.414 1.414L12 10.414l5.293 5.293z"},check:{small:"M6.072 10.4l6.175-7.058a1 1 0 1 1 1.506 1.317L6.769 12.64a1 1 0 0 1-1.55-.054L2.203 8.604a1 1 0 1 1 1.594-1.208L6.072 10.4z"},contentArticle:{small:"M11 12V8h2v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h3v2H5v8h6zM9.5 6a.5.5 0 0 1-.5-.5V2l4 4H9.5z",medium:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm3-6v-4h2v5a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h3v2H9v8h6zm-1.5-6a.5.5 0 0 1-.5-.5V6l4 4h-3.5z"},contentExercise:{small:"M7.5 6.914L5 9.414V11h1.586l2.5-2.5L7.5 6.914zM8.914 5.5L10.5 7.086 11.586 6 10 4.414 8.914 5.5zM3 9a1 1 0 0 1 .293-.707l6-6a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-6 6A1 1 0 0 1 7 13H4a1 1 0 0 1-1-1V9z",medium:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm-.5-11.086l1.586 1.586-2.5 2.5H9v-1.586l2.5-2.5zM12.914 9.5L14 8.414 15.586 10 14.5 11.086 12.914 9.5zM12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zM7 13v3a1 1 0 0 0 1 1h3a1 1 0 0 0 .707-.293l6-6a1 1 0 0 0 0-1.414l-3-3a1 1 0 0 0-1.414 0l-6 6A1 1 0 0 0 7 13z"},contentVideo:{small:"M6 5.87v4.263l3.197-2.131L6 5.87zm-.445-2.7l6 4a1 1 0 0 1 0 1.664l-6 4A1 1 0 0 1 4 12.002v-8a1 1 0 0 1 1.555-.832z",medium:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zM10.555 7.17l6 4a1 1 0 0 1 0 1.664l-6 4A1 1 0 0 1 9 16.002v-8a1 1 0 0 1 1.555-.832zM11 14.133l3.197-2.131L11 9.87v4.263z"},correct:{medium:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm-1.928-7.6l6.175-7.058a1 1 0 1 1 1.506 1.317l-6.984 7.981a1 1 0 0 1-1.55-.054l-3.016-3.982a1 1 0 0 1 1.594-1.208l2.275 3.003z"},delete:{medium:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm-5-9a1 1 0 0 1 0-2h10a1 1 0 0 1 0 2H7z"},dismiss:{small:"M8 6.586l3.293-3.293a1 1 0 0 1 1.414 1.414L9.414 8l3.293 3.293a1 1 0 0 1-1.414 1.414L8 9.414l-3.293 3.293a1 1 0 1 1-1.414-1.414L6.586 8 3.293 4.707a1 1 0 0 1 1.414-1.414L8 6.586z",medium:"M12 10.586L7.706 6.293a1 1 0 1 0-1.413 1.413L10.586 12l-4.293 4.294a1 1 0 0 0 1.413 1.413L12 13.414l4.294 4.293a1 1 0 0 0 1.413-1.413L13.414 12l4.293-4.294a1 1 0 1 0-1.413-1.413L12 10.586z"},hint:{medium:"M10.835 15.993a1 1 0 0 1 1.008-.247 5.5 5.5 0 1 0-3.59-3.59 1 1 0 0 1-.246 1.009L6.172 15 9 17.828l1.835-1.835zm-.78 3.61a1.496 1.496 0 0 1-2.11 0l-3.548-3.549a1.496 1.496 0 0 1 0-2.108l1.787-1.787a7.5 7.5 0 1 1 5.657 5.657l-1.787 1.787zm-6.762.104a1 1 0 0 1 1.414-1.414l1 1a1 1 0 0 1-1.414 1.414l-1-1z"},incorrect:{medium:"M12 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414L13.414 12l3.293 3.293a1 1 0 0 1-1.414 1.414L12 13.414l-3.293 3.293a1 1 0 1 1-1.414-1.414L10.586 12 7.293 8.707a1 1 0 0 1 1.414-1.414L12 10.586zM12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"},info:{small:"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16zm0-2A6 6 0 1 0 8 2a6 6 0 0 0 0 12zM7 8a1 1 0 1 1 2 0v3a1 1 0 0 1-2 0V8zm1-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"},search:{small:"M11.172 9.757l2.535 2.536a1 1 0 0 1-1.414 1.414l-2.536-2.535a5 5 0 1 1 1.414-1.414zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",medium:"M11 17a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm6.32-1.094l3.387 3.387a1 1 0 0 1-1.414 1.414l-3.387-3.387a8 8 0 1 1 1.414-1.414z"},sortableArrowDown:{small:"M7 9.586V4a1 1 0 1 1 2 0v5.586l2.293-2.293a1 1 0 0 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 1.414-1.414L7 9.586z"},sortableArrowUp:{small:"M9 6.414l2.293 2.293a1 1 0 0 0 1.414-1.414l-4-4a1 1 0 0 0-1.414 0l-4 4a1 1 0 0 0 1.414 1.414L7 6.414V12a1 1 0 1 0 2 0V6.414z"},zoomIn:{medium:"M17.32 15.906l3.387 3.387a1 1 0 0 1-1.414 1.414l-3.387-3.387a8 8 0 1 1 1.414-1.414zM12 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H8a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2zm-1 7a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"},zoomOut:{medium:"M17.32 15.906l3.387 3.387a1 1 0 0 1-1.414 1.414l-3.387-3.387a8 8 0 1 1 1.414-1.414zM11 17a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z"}}),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js");function wonder_blocks_clickable_dist_es_extends(){return wonder_blocks_clickable_dist_es_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},wonder_blocks_clickable_dist_es_extends.apply(this,arguments)}const getAppropriateTriggersForRole=role=>{switch(role){case"link":return{triggerOnEnter:!0,triggerOnSpace:!1};case"checkbox":case"radio":case"listbox":return{triggerOnEnter:!1,triggerOnSpace:!0};default:return{triggerOnEnter:!0,triggerOnSpace:!0}}},disabledHandlers={onClick:()=>{},onMouseEnter:()=>{},onMouseLeave:()=>{},onMouseDown:()=>{},onMouseUp:()=>{},onTouchStart:()=>{},onTouchEnd:()=>{},onTouchCancel:()=>{},onKeyDown:()=>{},onKeyUp:()=>{}},keyCodes_enter=13,keyCodes_space=32,startState={hovered:!1,focused:!1,pressed:!1,waiting:!1};class ClickableBehavior extends react.Component{static getDerivedStateFromProps(props,state){return props.disabled?wonder_blocks_clickable_dist_es_extends({},startState,{focused:state.focused}):null}constructor(props){super(props),this.waitingForClick=void 0,this.enterClick=void 0,this.handleClick=e=>{const{onClick,beforeNav,safeWithNav}=this.props;this.enterClick||((onClick||beforeNav||safeWithNav)&&(this.waitingForClick=!1),this.runCallbackAndMaybeNavigate(e))},this.handleMouseEnter=e=>{this.waitingForClick||this.setState({hovered:!0})},this.handleMouseLeave=()=>{this.waitingForClick||this.setState({hovered:!1,pressed:!1,focused:!1})},this.handleMouseDown=()=>{this.setState({pressed:!0})},this.handleMouseUp=e=>{this.setState({pressed:!1,focused:!1})},this.handleTouchStart=()=>{this.setState({pressed:!0})},this.handleTouchEnd=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleTouchCancel=()=>{this.setState({pressed:!1}),this.waitingForClick=!0},this.handleKeyDown=e=>{const{onKeyDown,role}=this.props;onKeyDown&&onKeyDown(e);const keyCode=e.which||e.keyCode,{triggerOnEnter,triggerOnSpace}=getAppropriateTriggersForRole(role);triggerOnEnter&&keyCode===keyCodes_enter||triggerOnSpace&&keyCode===keyCodes_space?(e.preventDefault(),this.setState({pressed:!0})):triggerOnEnter||keyCode!==keyCodes_enter||(this.enterClick=!0)},this.handleKeyUp=e=>{const{onKeyUp,role}=this.props;onKeyUp&&onKeyUp(e);const keyCode=e.which||e.keyCode,{triggerOnEnter,triggerOnSpace}=getAppropriateTriggersForRole(role);triggerOnEnter&&keyCode===keyCodes_enter||triggerOnSpace&&keyCode===keyCodes_space?(this.setState({pressed:!1,focused:!0}),this.runCallbackAndMaybeNavigate(e)):triggerOnEnter||keyCode!==keyCodes_enter||(this.enterClick=!1)},this.handleFocus=e=>{this.setState({focused:!0})},this.handleBlur=e=>{this.setState({focused:!1,pressed:!1})},this.state=startState,this.waitingForClick=!1,this.enterClick=!1}navigateOrReset(shouldNavigate){if(shouldNavigate){const{history,href,skipClientNav,target}=this.props;href&&("_blank"===target?(window.open(href,"_blank"),this.setState({waiting:!1})):history&&!skipClientNav?(history.push(href),this.setState({waiting:!1})):window.location.assign(href))}else this.setState({waiting:!1})}handleSafeWithNav(safeWithNav,shouldNavigate){const{skipClientNav,history}=this.props;return history&&!skipClientNav||"_blank"===this.props.target?(safeWithNav(),this.navigateOrReset(shouldNavigate),Promise.resolve()):(this.state.waiting||this.setState({waiting:!0}),safeWithNav().then((()=>{this.state.waiting||this.setState({waiting:!0})})).catch((error=>{})).finally((()=>{this.navigateOrReset(shouldNavigate)})))}runCallbackAndMaybeNavigate(e){const{onClick,beforeNav,safeWithNav,href,type}=this.props;let shouldNavigate=!0,canSubmit=!0;if(onClick&&onClick(e),e.defaultPrevented&&(shouldNavigate=!1,canSubmit=!1),e.preventDefault(),!href&&"submit"===type&&canSubmit){let target=e.currentTarget;for(;target;){if(target instanceof window.HTMLFormElement){const event=new window.Event("submit",{cancelable:!0});target.dispatchEvent(event);break}target=target.parentElement}}if(beforeNav)this.setState({waiting:!0}),beforeNav().then((()=>safeWithNav?this.handleSafeWithNav(safeWithNav,shouldNavigate):this.navigateOrReset(shouldNavigate))).catch((()=>{}));else{if(safeWithNav)return this.handleSafeWithNav(safeWithNav,shouldNavigate);this.navigateOrReset(shouldNavigate)}}render(){const childrenProps=this.props.disabled?wonder_blocks_clickable_dist_es_extends({},disabledHandlers,{onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex}):{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:this.props.tabIndex};childrenProps.rel=this.props.rel||("_blank"===this.props.target?"noopener noreferrer":void 0);const{children}=this.props;return children&&children(this.state,childrenProps)}}ClickableBehavior.defaultProps={disabled:!1};const isClientSideUrl=href=>"string"==typeof href&&(!/^(https?:)?\/\//i.test(href)&&!/^([^#]*#[\w-]*|[\w\-.]+:)/.test(href)),ClickableBehaviorWithRouter=(0,react_router.EN)(ClickableBehavior);function getClickableBehavior(href,skipClientNav,router){return router&&!0!==skipClientNav&&href&&isClientSideUrl(href)?ClickableBehaviorWithRouter:ClickableBehavior}const wonder_blocks_clickable_dist_es_excluded=["href","onClick","skipClientNav","beforeNav","safeWithNav","style","target","testId","onKeyDown","onKeyUp","hideDefaultFocusRing","light","disabled"],StyledAnchor=addStyle("a"),StyledButton=addStyle("button"),StyledLink=addStyle(react_router_dom.rU);class Clickable extends react.Component{constructor(...args){super(...args),this.getCorrectTag=(clickableState,router,commonProps)=>{const activeHref=this.props.href&&!this.props.disabled,useClient=router&&!this.props.skipClientNav&&isClientSideUrl(this.props.href||"");return activeHref&&useClient&&this.props.href?react.createElement(StyledLink,wonder_blocks_clickable_dist_es_extends({},commonProps,{to:this.props.href,role:this.props.role,target:this.props.target||void 0,"aria-disabled":this.props.disabled?"true":void 0}),this.props.children(clickableState)):activeHref&&!useClient?react.createElement(StyledAnchor,wonder_blocks_clickable_dist_es_extends({},commonProps,{href:this.props.href,role:this.props.role,target:this.props.target||void 0,"aria-disabled":this.props.disabled?"true":void 0}),this.props.children(clickableState)):react.createElement(StyledButton,wonder_blocks_clickable_dist_es_extends({},commonProps,{type:"button","aria-disabled":this.props.disabled}),this.props.children(clickableState))}}renderClickableBehavior(router){const _this$props=this.props,{href,onClick,skipClientNav,beforeNav,safeWithNav,style,target,testId,onKeyDown,onKeyUp,hideDefaultFocusRing,light,disabled}=_this$props,restProps=function wonder_blocks_clickable_dist_es_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_this$props,wonder_blocks_clickable_dist_es_excluded),ClickableBehavior=getClickableBehavior(href,skipClientNav,router),getStyle=state=>[wonder_blocks_clickable_dist_es_styles.reset,wonder_blocks_clickable_dist_es_styles.link,!hideDefaultFocusRing&&state.focused&&(light?wonder_blocks_clickable_dist_es_styles.focusedLight:wonder_blocks_clickable_dist_es_styles.focused),disabled&&wonder_blocks_clickable_dist_es_styles.disabled,style];return beforeNav?react.createElement(ClickableBehavior,{href,onClick,beforeNav,safeWithNav,onKeyDown,onKeyUp,disabled},((state,childrenProps)=>this.getCorrectTag(state,router,wonder_blocks_clickable_dist_es_extends({},restProps,{"data-test-id":testId,style:getStyle(state)},childrenProps)))):react.createElement(ClickableBehavior,{href,onClick,safeWithNav,onKeyDown,onKeyUp,target,disabled},((state,childrenProps)=>this.getCorrectTag(state,router,wonder_blocks_clickable_dist_es_extends({},restProps,{"data-test-id":testId,style:getStyle(state)},childrenProps))))}render(){return react.createElement(react_router.s6.Consumer,null,(router=>this.renderClickableBehavior(router)))}}Clickable.defaultProps={light:!1,disabled:!1};const wonder_blocks_clickable_dist_es_styles=lib.StyleSheet.create({reset:{border:"none",margin:0,padding:0,width:"auto",overflow:"visible",background:"transparent",textDecoration:"none",color:"inherit",font:"inherit",boxSizing:"border-box",touchAction:"manipulation",userSelect:"none",outline:"none",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit"},link:{cursor:"pointer"},focused:{":focus":{outline:`solid 2px ${dist_es.default.blue}`}},focusedLight:{outline:`solid 2px ${dist_es.default.white}`},disabled:{color:dist_es.default.offBlack32,cursor:"not-allowed",":focus":{outline:"none"},":focus-visible":{outline:`solid 2px ${dist_es.default.blue}`}}});function wonder_blocks_icon_button_dist_es_extends(){return wonder_blocks_icon_button_dist_es_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},wonder_blocks_icon_button_dist_es_extends.apply(this,arguments)}function wonder_blocks_icon_button_dist_es_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}const dist_es_excluded$1=["skipClientNav","color","disabled","focused","hovered","href","icon","kind","light","pressed","style","testId","waiting"],es_StyledAnchor=addStyle("a"),es_StyledButton=addStyle("button"),es_StyledLink=addStyle(react_router_dom.rU);class IconButtonCore extends react.Component{renderInner(router){const _this$props=this.props,{skipClientNav,color,disabled,focused,hovered,href,icon,kind,light,pressed,style,testId}=_this$props,restProps=wonder_blocks_icon_button_dist_es_objectWithoutPropertiesLoose(_this$props,dist_es_excluded$1),buttonColor="destructive"===color?dist_es.qe.controlDestructive:dist_es.qe.controlDefault,buttonStyles=_generateStyles(buttonColor,kind,light),defaultStyle=[sharedStyles.shared,disabled&&sharedStyles.disabled,buttonStyles.default,disabled&&buttonStyles.disabled,!disabled&&(pressed?buttonStyles.active:(hovered||focused)&&buttonStyles.focus)],child=react.createElement(Icon,{size:"medium",color:"currentColor",icon}),commonProps=wonder_blocks_icon_button_dist_es_extends({"data-test-id":testId,style:[defaultStyle,style]},restProps);return href&&!disabled?router&&!skipClientNav&&isClientSideUrl(href)?react.createElement(es_StyledLink,wonder_blocks_icon_button_dist_es_extends({},commonProps,{to:href}),child):react.createElement(es_StyledAnchor,wonder_blocks_icon_button_dist_es_extends({},commonProps,{href}),child):react.createElement(es_StyledButton,wonder_blocks_icon_button_dist_es_extends({type:"button"},commonProps,{disabled}),child)}render(){return react.createElement(react_router.s6.Consumer,null,(router=>this.renderInner(router)))}}const sharedStyles=lib.StyleSheet.create({shared:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:40,width:40,padding:0,cursor:"pointer",border:"none",outline:"none",textDecoration:"none",background:"none",margin:-8,touchAction:"manipulation",":focus":{WebkitTapHighlightColor:"rgba(0,0,0,0)"}},disabled:{cursor:"default"}}),wonder_blocks_icon_button_dist_es_styles={},_generateStyles=(color,kind,light)=>{const buttonType=color+kind+light.toString();if(wonder_blocks_icon_button_dist_es_styles[buttonType])return wonder_blocks_icon_button_dist_es_styles[buttonType];if(light&&"primary"!==kind)throw new Error("Light is only supported for primary IconButtons");const{white,offBlack32,offBlack64,offBlack}=dist_es.default,newStyles={default:{},focus:{color:light?white:color,borderWidth:2,borderColor:light?white:color,borderStyle:"solid",borderRadius:4},active:{color:light?(0,dist_es.CD)((0,dist_es.U1)(color,.32),white):(0,dist_es.CD)(offBlack32,color),borderWidth:2,borderColor:light?(0,dist_es.CD)((0,dist_es.U1)(color,.32),white):(0,dist_es.CD)(offBlack32,color),borderStyle:"solid",borderRadius:4},disabled:{color:light?(0,dist_es.CD)((0,dist_es.U1)(white,.32),color):offBlack32,cursor:"default"}};if("primary"===kind)newStyles.default={color:light?white:color};else if("secondary"===kind)newStyles.default={color:offBlack};else{if("tertiary"!==kind)throw new Error("IconButton kind not recognized");newStyles.default={color:offBlack64}}return wonder_blocks_icon_button_dist_es_styles[buttonType]=lib.StyleSheet.create(newStyles),wonder_blocks_icon_button_dist_es_styles[buttonType]},wonder_blocks_icon_button_dist_es_excluded=["onClick","href","skipClientNav","tabIndex","target"];class IconButton extends react.Component{renderClickableBehavior(router){const _this$props=this.props,{onClick,href,skipClientNav,tabIndex,target}=_this$props,sharedProps=wonder_blocks_icon_button_dist_es_objectWithoutPropertiesLoose(_this$props,wonder_blocks_icon_button_dist_es_excluded),ClickableBehavior=getClickableBehavior(href,skipClientNav,router);return react.createElement(ClickableBehavior,{disabled:sharedProps.disabled,href,onClick,role:"button",target},((state,_ref)=>{let childrenProps=wonder_blocks_icon_button_dist_es_extends({},(function _objectDestructuringEmpty(obj){if(null==obj)throw new TypeError("Cannot destructure "+obj)}(_ref),_ref));return react.createElement(IconButtonCore,wonder_blocks_icon_button_dist_es_extends({},sharedProps,state,childrenProps,{skipClientNav,href,target,tabIndex}))}))}render(){return react.createElement(react_router.s6.Consumer,null,(router=>this.renderClickableBehavior(router)))}}IconButton.defaultProps={color:"default",kind:"primary",light:!1,disabled:!1};class ModalDialog extends react.Component{render(){const{above,below,role,style,children,testId,"aria-labelledby":ariaLabelledBy,"aria-describedby":ariaDescribedBy}=this.props,contextValue={ssrSize:"large",mediaSpec:MEDIA_MODAL_SPEC};return react.createElement(MediaLayoutContext.Provider,{value:contextValue},react.createElement(MediaLayout,{styleSheets:styleSheets$3},(({styles})=>react.createElement(View,{style:[styles.wrapper,style]},below&&react.createElement(View,{style:styles.below},below),react.createElement(View,{role,"aria-modal":"true","aria-labelledby":ariaLabelledBy,"aria-describedby":ariaDescribedBy,style:styles.dialog,testId},children),above&&react.createElement(View,{style:styles.above},above)))))}}ModalDialog.defaultProps={role:"dialog"};const styleSheets$3={all:lib.StyleSheet.create({wrapper:{display:"flex",flexDirection:"row",alignItems:"stretch",width:"100%",height:"100%",position:"relative"},dialog:{width:"100%",height:"100%",borderRadius:4,overflow:"hidden"},above:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1},below:{pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:-1}}),small:lib.StyleSheet.create({wrapper:{padding:es.Z.medium_16,flexDirection:"column"}})};class ModalFooter extends react.Component{static isClassOf(instance){return instance&&instance.type&&instance.type.__IS_MODAL_FOOTER__}render(){const{children}=this.props;return react.createElement(View,{style:styles$3.footer},children)}}ModalFooter.__IS_MODAL_FOOTER__=!0;const styles$3=lib.StyleSheet.create({footer:{flex:"0 0 auto",boxSizing:"border-box",minHeight:es.Z.xxxLarge_64,paddingLeft:es.Z.medium_16,paddingRight:es.Z.medium_16,paddingTop:es.Z.xSmall_8,paddingBottom:es.Z.xSmall_8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxShadow:`0px -1px 0px ${dist_es.default.offBlack16}`}});class ModalHeader extends react.Component{render(){const{breadcrumbs,light,subtitle,testId,title,titleId}=this.props;if(subtitle&&breadcrumbs)throw new Error("'subtitle' and 'breadcrumbs' can't be used together");return react.createElement(MediaLayout,{styleSheets:styleSheets$2},(({styles})=>react.createElement(View,{style:[styles.header,!light&&styles.dark],testId},breadcrumbs&&react.createElement(View,{style:styles.breadcrumbs},breadcrumbs),react.createElement(HeadingMedium,{style:styles.title,id:titleId,testId:testId&&`${testId}-title`},title),subtitle&&react.createElement(LabelSmall,{style:light&&styles.subtitle,testId:testId&&`${testId}-subtitle`},subtitle))))}}ModalHeader.defaultProps={light:!0};const styleSheets$2={all:lib.StyleSheet.create({header:{boxShadow:`0px 1px 0px ${dist_es.default.offBlack16}`,display:"flex",flexDirection:"column",minHeight:66,padding:`${es.Z.large_24}px ${es.Z.xLarge_32}px`,position:"relative",width:"100%"},dark:{background:dist_es.default.darkBlue,color:dist_es.default.white},breadcrumbs:{color:dist_es.default.offBlack64,marginBottom:es.Z.xSmall_8},title:{paddingRight:es.Z.medium_16},subtitle:{color:dist_es.default.offBlack64,marginTop:es.Z.xSmall_8}}),small:lib.StyleSheet.create({header:{paddingLeft:es.Z.medium_16,paddingRight:es.Z.medium_16},title:{paddingRight:es.Z.xLarge_32}})};class FocusTrap extends react.Component{constructor(...args){super(...args),this.modalRoot=void 0,this.getModalRoot=node=>{if(!node)return;const modalRoot=react_dom.findDOMNode(node);if(!modalRoot)throw new Error("Assertion error: modal root should exist after mount");this.modalRoot=modalRoot},this.handleFocusMoveToLast=()=>{this.focusElementIn(!1)},this.handleFocusMoveToFirst=()=>{this.focusElementIn(!0)}}tryToFocus(node){if(node instanceof HTMLElement){try{node.focus()}catch(e){}return document.activeElement===node}}focusElementIn(isLast){const modalRootAsHtmlEl=this.modalRoot,focusableNodes=Array.from(modalRootAsHtmlEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')),focusableNode=focusableNodes[isLast?0:focusableNodes.length-1];this.tryToFocus(focusableNode)}render(){const{style}=this.props;return react.createElement(react.Fragment,null,react.createElement("div",{tabIndex:0,className:"modal-focus-trap-first",onFocus:this.handleFocusMoveToLast,style:{position:"fixed"}}),react.createElement(View,{style,ref:this.getModalRoot},this.props.children),react.createElement("div",{tabIndex:0,className:"modal-focus-trap-last",onFocus:this.handleFocusMoveToFirst,style:{position:"fixed"}}))}}function wonder_blocks_modal_dist_es_extends(){return wonder_blocks_modal_dist_es_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},wonder_blocks_modal_dist_es_extends.apply(this,arguments)}const ModalLauncherPortalAttributeName="data-modal-launcher-portal";class ModalBackdrop extends react.Component{constructor(...args){super(...args),this._mousePressedOutside=!1,this.handleMouseDown=e=>{this._mousePressedOutside=e.target===e.currentTarget},this.handleMouseUp=e=>{e.target===e.currentTarget&&this._mousePressedOutside&&this.props.onCloseModal(),this._mousePressedOutside=!1}}componentDidMount(){const node=react_dom.findDOMNode(this);if(!node)return;const firstFocusableElement=this._getInitialFocusElement(node)||this._getFirstFocusableElement(node)||this._getDialogElement(node);setTimeout((()=>{firstFocusableElement.focus()}),0)}_getInitialFocusElement(node){const{initialFocusId}=this.props;return initialFocusId?react_dom.findDOMNode(node.querySelector(`#${initialFocusId}`)):null}_getFirstFocusableElement(node){const focusableElements=function findFocusableNodes(root){return Array.from(root.querySelectorAll('a[href], details, input, textarea, select, button:not([aria-label^="Close"])'))}(node);return focusableElements?focusableElements[0]:null}_getDialogElement(node){const dialogElement=react_dom.findDOMNode(node.querySelector('[role="dialog"]'));return dialogElement.tabIndex=-1,dialogElement}render(){const{children,testId}=this.props,backdropProps={[ModalLauncherPortalAttributeName]:!0};return react.createElement(View,wonder_blocks_modal_dist_es_extends({style:styles$2.modalPositioner,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,testId},backdropProps),children)}}const styles$2=lib.StyleSheet.create({modalPositioner:{position:"fixed",left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",overflow:"auto",background:dist_es.default.offBlack64}}),needsHackyMobileSafariScrollDisabler=(()=>{if("undefined"==typeof window)return!1;const userAgent=window.navigator.userAgent;return userAgent.indexOf("iPad")>-1||userAgent.indexOf("iPhone")>-1})();class ScrollDisabler extends react.Component{componentDidMount(){if(0===ScrollDisabler.numModalsOpened){const body=document.body;if(!body)throw new Error("couldn't find document.body");ScrollDisabler.oldOverflow=body.style.overflow,ScrollDisabler.oldScrollY=window.scrollY,needsHackyMobileSafariScrollDisabler&&(ScrollDisabler.oldPosition=body.style.position,ScrollDisabler.oldWidth=body.style.width,ScrollDisabler.oldTop=body.style.top),body.style.overflow="hidden",needsHackyMobileSafariScrollDisabler&&(body.style.position="fixed",body.style.width="100%",body.style.top=-ScrollDisabler.oldScrollY+"px")}ScrollDisabler.numModalsOpened++}componentWillUnmount(){if(ScrollDisabler.numModalsOpened--,0===ScrollDisabler.numModalsOpened){const body=document.body;if(!body)throw new Error("couldn't find document.body");body.style.overflow=ScrollDisabler.oldOverflow,needsHackyMobileSafariScrollDisabler&&(body.style.position=ScrollDisabler.oldPosition,body.style.width=ScrollDisabler.oldWidth,body.style.top=ScrollDisabler.oldTop),"undefined"!=typeof window&&window.scrollTo&&window.scrollTo(0,ScrollDisabler.oldScrollY)}}render(){return null}}ScrollDisabler.oldOverflow=void 0,ScrollDisabler.oldPosition=void 0,ScrollDisabler.oldScrollY=void 0,ScrollDisabler.oldWidth=void 0,ScrollDisabler.oldTop=void 0,ScrollDisabler.numModalsOpened=0;const es_defaultContext={closeModal:void 0};var ModalContext=react.createContext(es_defaultContext);class ModalLauncher extends react.Component{constructor(...args){super(...args),this.lastElementFocusedOutsideModal=void 0,this.state={opened:!1},this._saveLastElementFocused=()=>{this.lastElementFocusedOutsideModal=document.activeElement},this._openModal=()=>{this._saveLastElementFocused(),this.setState({opened:!0})},this._returnFocus=()=>{const{closedFocusId,schedule}=this.props,lastElement=this.lastElementFocusedOutsideModal;if(closedFocusId){const focusElement=react_dom.findDOMNode(document.getElementById(closedFocusId));if(focusElement)return void schedule.animationFrame((()=>{focusElement.focus()}))}null!=lastElement&&schedule.animationFrame((()=>{lastElement.focus()}))},this.handleCloseModal=()=>{this.setState({opened:!1},(()=>{const{onClose}=this.props;null==onClose||onClose(),this._returnFocus()}))}}static getDerivedStateFromProps(props,state){return"boolean"==typeof props.opened&&props.children&&console.warn("'children' and 'opened' can't be used together"),"boolean"!=typeof props.opened||props.onClose||console.warn("'onClose' should be used with 'opened'"),"boolean"==typeof props.opened||props.children||console.warn("either 'children' or 'opened' must be set"),{opened:"boolean"==typeof props.opened?props.opened:state.opened}}componentDidUpdate(prevProps){!prevProps.opened&&this.props.opened&&this._saveLastElementFocused()}_renderModal(){return"function"==typeof this.props.modal?this.props.modal({closeModal:this.handleCloseModal}):this.props.modal}render(){const renderedChildren=this.props.children?this.props.children({openModal:this._openModal}):null,{body}=document;return body?react.createElement(ModalContext.Provider,{value:{closeModal:this.handleCloseModal}},renderedChildren,this.state.opened&&react_dom.createPortal(react.createElement(FocusTrap,{style:es_styles$1.container},react.createElement(ModalBackdrop,{initialFocusId:this.props.initialFocusId,testId:this.props.testId,onCloseModal:this.props.backdropDismissEnabled?this.handleCloseModal:()=>{}},this._renderModal())),body),this.state.opened&&react.createElement(ModalLauncherKeypressListener,{onClose:this.handleCloseModal}),this.state.opened&&react.createElement(ScrollDisabler,null)):null}}ModalLauncher.defaultProps={backdropDismissEnabled:!0};class ModalLauncherKeypressListener extends react.Component{constructor(...args){super(...args),this._handleKeyup=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup)}render(){return null}}const es_styles$1=lib.StyleSheet.create({container:{zIndex:1080}});(function withActionScheduler(WrappedComponent){return props=>react.createElement(ActionSchedulerProvider,null,(schedule=>react.createElement(WrappedComponent,wonder_blocks_timing_dist_es_extends({},props,{schedule}))))})(ModalLauncher);class ModalContent extends react.Component{static isClassOf(instance){return instance&&instance.type&&instance.type.__IS_MODAL_CONTENT__}render(){const{scrollOverflow,style,children}=this.props;return react.createElement(MediaLayout,{styleSheets:styleSheets$1},(({styles})=>react.createElement(View,{style:[styles.wrapper,scrollOverflow&&styles.scrollOverflow]},react.createElement(View,{style:[styles.content,style]},children))))}}ModalContent.defaultProps={scrollOverflow:!0},ModalContent.__IS_MODAL_CONTENT__=!0;const styleSheets$1={all:lib.StyleSheet.create({wrapper:{flex:1,display:"block"},scrollOverflow:{overflow:"auto"},content:{flex:1,minHeight:"100%",padding:es.Z.xLarge_32,boxSizing:"border-box"}}),small:lib.StyleSheet.create({content:{padding:`${es.Z.xLarge_32}px ${es.Z.medium_16}px`}})};class CloseButton extends react.Component{render(){const{light,onClick,style,testId}=this.props;return react.createElement(ModalContext.Consumer,null,(({closeModal})=>{if(closeModal&&onClick)throw new Error("You've specified 'onClose' on a modal when using ModalLauncher.  Please specify 'onClose' on the ModalLauncher instead");return react.createElement(IconButton,{icon:iconAssets.dismiss,"aria-label":"Close modal",onClick:onClick||closeModal,kind:light?"primary":"tertiary",light,style,testId})}))}}class ModalPanel extends react.Component{renderMainContent(){const{content,footer,scrollOverflow}=this.props,mainContent=ModalContent.isClassOf(content)?content:react.createElement(ModalContent,null,content);return mainContent?react.cloneElement(mainContent,{scrollOverflow,style:[!!footer&&wonder_blocks_modal_dist_es_styles.hasFooter,mainContent.props.style]}):mainContent}render(){const{closeButtonVisible,footer,header,light,onClose,style,testId}=this.props,mainContent=this.renderMainContent();return react.createElement(View,{style:[wonder_blocks_modal_dist_es_styles.wrapper,!light&&wonder_blocks_modal_dist_es_styles.dark,style],testId:testId&&`${testId}-panel`},closeButtonVisible&&react.createElement(CloseButton,{light:!light,onClick:onClose,style:wonder_blocks_modal_dist_es_styles.closeButton,testId:testId&&`${testId}-close`}),header,mainContent,!footer||ModalFooter.isClassOf(footer)?footer:react.createElement(ModalFooter,null,footer))}}ModalPanel.defaultProps={closeButtonVisible:!0,scrollOverflow:!0,light:!0};const wonder_blocks_modal_dist_es_styles=lib.StyleSheet.create({wrapper:{flex:"1 1 auto",position:"relative",display:"flex",flexDirection:"column",background:"white",boxSizing:"border-box",overflow:"hidden",height:"100%",width:"100%"},closeButton:{position:"absolute",right:es.Z.medium_16,top:es.Z.medium_16,zIndex:1},dark:{background:dist_es.default.darkBlue,color:dist_es.default.white},hasFooter:{paddingBottom:es.Z.xLarge_32}});class OnePaneDialog extends react.Component{renderHeader(uniqueId){const{title,breadcrumbs,subtitle,testId}=this.props;return breadcrumbs?react.createElement(ModalHeader,{title,breadcrumbs,titleId:uniqueId,testId:testId&&`${testId}-header`}):subtitle?react.createElement(ModalHeader,{title,subtitle,titleId:uniqueId,testId:testId&&`${testId}-header`}):react.createElement(ModalHeader,{title,titleId:uniqueId,testId:testId&&`${testId}-header`})}render(){const{onClose,footer,content,above,below,style,closeButtonVisible,testId,titleId,role,"aria-describedby":ariaDescribedBy}=this.props;return react.createElement(MediaLayout,{styleSheets},(({styles})=>react.createElement(IDProvider,{id:titleId,scope:"modal"},(uniqueId=>react.createElement(ModalDialog,{style:[styles.dialog,style],above,below,testId,"aria-labelledby":uniqueId,"aria-describedby":ariaDescribedBy,role},react.createElement(ModalPanel,{onClose,header:this.renderHeader(uniqueId),content,footer,closeButtonVisible,testId}))))))}}OnePaneDialog.defaultProps={closeButtonVisible:!0};const styleSheets={small:lib.StyleSheet.create({dialog:{width:"100%",height:"100%",overflow:"hidden"}}),mdOrLarger:lib.StyleSheet.create({dialog:{width:"93.75%",maxWidth:576,height:"81.25%",maxHeight:624}})};function maybeGetPortalMountedModalHostElement(element){return function maybeGetNextAncestorModalLauncherPortal(element){let candidateElement=element&&element.parentElement;for(;candidateElement&&!candidateElement.hasAttribute(ModalLauncherPortalAttributeName);)candidateElement=candidateElement.parentElement;return candidateElement}(element)}var Popper=__webpack_require__("./node_modules/react-popper/lib/esm/Popper.js");const TRACKER=new class ActiveTracker{constructor(){this._subscribers=[],this._active=void 0}_getIndex(who){return this._subscribers.findIndex((v=>v===who))}steal(who){const wasActive=!!this._active;this._active=!0;for(const anchor of this._subscribers)anchor!==who&&anchor.activeStateStolen();return wasActive}giveup(){this._active=!1}subscribe(who){if(this._getIndex(who)>=0)throw new Error("Already subscribed.");this._subscribers.push(who);return()=>{const index=this._getIndex(who);this._subscribers.splice(index,1)}}};class TooltipAnchor extends react.Component{constructor(props){super(props),this._weSetFocusivity=void 0,this._anchorNode=void 0,this._focused=void 0,this._hovered=void 0,this._stolenFromUs=void 0,this._unsubscribeFromTracker=void 0,this._timeoutID=void 0,this.activeStateStolen=()=>{this._stolenFromUs=this.state.active||!!this._timeoutID,this._focused=!1,this._setActiveState(!1,!0)},this._handleFocusIn=()=>{this._updateActiveState(this._hovered,!0)},this._handleFocusOut=()=>{this._updateActiveState(this._hovered,!1)},this._handleMouseEnter=()=>{this._updateActiveState(!0,this._focused)},this._handleMouseLeave=()=>{this._updateActiveState(!1,this._focused)},this._handleKeyUp=e=>{"Escape"===e.key&&this.state.active&&(e.preventDefault(),e.stopPropagation(),this._updateActiveState(!1,!1))},this._focused=!1,this._hovered=!1,this.state={active:!1}}componentDidMount(){const anchorNode=react_dom.findDOMNode(this);if(anchorNode instanceof Text)throw new Error("TooltipAnchor must be applied to an Element. Text content is not supported.");this._unsubscribeFromTracker=TRACKER.subscribe(this),this._anchorNode=anchorNode,this._updateFocusivity(),anchorNode&&(anchorNode.addEventListener("focusin",this._handleFocusIn),anchorNode.addEventListener("focusout",this._handleFocusOut),anchorNode.addEventListener("mouseenter",this._handleMouseEnter),anchorNode.addEventListener("mouseleave",this._handleMouseLeave),this.props.anchorRef(this._anchorNode))}componentDidUpdate(prevProps){prevProps.forceAnchorFocusivity===this.props.forceAnchorFocusivity&&prevProps.children===this.props.children||this._updateFocusivity()}componentWillUnmount(){this._unsubscribeFromTracker&&this._unsubscribeFromTracker(),this._clearPendingAction();const anchorNode=this._anchorNode;anchorNode&&(anchorNode.removeEventListener("focusin",this._handleFocusIn),anchorNode.removeEventListener("focusout",this._handleFocusOut),anchorNode.removeEventListener("mouseenter",this._handleMouseEnter),anchorNode.removeEventListener("mouseleave",this._handleMouseLeave)),this.state.active&&document.removeEventListener("keyup",this._handleKeyUp)}_updateFocusivity(){const anchorNode=this._anchorNode;if(!anchorNode)return;const{forceAnchorFocusivity}=this.props,currentTabIndex=anchorNode.getAttribute("tabindex");forceAnchorFocusivity&&!currentTabIndex?(anchorNode.setAttribute("tabindex","0"),this._weSetFocusivity=!0):!forceAnchorFocusivity&&currentTabIndex&&this._weSetFocusivity&&(anchorNode.removeAttribute("tabindex"),this._weSetFocusivity=!1)}_updateActiveState(hovered,focused){this._hovered=hovered,this._focused=focused,this._setActiveState(hovered||focused)}_clearPendingAction(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}_setActiveState(active,instant){if(this._stolenFromUs||active!==this.state.active||!this.state.active&&this._timeoutID)this._clearPendingAction();else if(active===this.state.active&&!this._timeoutID)return;if(instant=instant||active&&TRACKER.steal(this))active?document.addEventListener("keyup",this._handleKeyUp):document.removeEventListener("keyup",this._handleKeyUp),this.setState({active}),this.props.onActiveChanged(active),this._stolenFromUs||active||TRACKER.giveup(),this._stolenFromUs=!1;else{const delay=active?100:75;this._timeoutID=setTimeout((()=>{this._timeoutID=null,this._setActiveState(active,!0)}),delay)}}_renderAnchorableChildren(){const{children}=this.props;return"string"==typeof children?react.createElement(es_Text,null,children):children}_renderAccessibleChildren(ids){const anchorableChildren=this._renderAnchorableChildren();return react.cloneElement(anchorableChildren,{"aria-describedby":ids.get(TooltipAnchor.ariaContentId)})}render(){return this.props.ids?this._renderAccessibleChildren(this.props.ids):this._renderAnchorableChildren()}}function wonder_blocks_tooltip_dist_es_extends(){return wonder_blocks_tooltip_dist_es_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},wonder_blocks_tooltip_dist_es_extends.apply(this,arguments)}TooltipAnchor.defaultProps={forceAnchorFocusivity:!0},TooltipAnchor.ariaContentId="aria-content";let tempIdCounter=0;class TooltipTail extends react.Component{_calculateDimensionsFromPlacement(){const{placement}=this.props;switch(placement){case"top":return{trimlinePoints:["0,-0.5",`${ARROW_WIDTH},-0.5`],points:["0,0",`${ARROW_WIDTH/2},${ARROW_HEIGHT}`,`${ARROW_WIDTH},0`],height:ARROW_HEIGHT,width:ARROW_WIDTH};case"right":return{trimlinePoints:[`${ARROW_HEIGHT+.5},0`,`${ARROW_HEIGHT+.5},${ARROW_WIDTH}`],points:[`${ARROW_HEIGHT},0`,"0,"+ARROW_WIDTH/2,`${ARROW_HEIGHT},${ARROW_WIDTH}`],width:ARROW_HEIGHT,height:ARROW_WIDTH};case"bottom":return{trimlinePoints:[`0, ${ARROW_HEIGHT+.5}`,`${ARROW_WIDTH},${ARROW_HEIGHT+.5}`],points:[`0, ${ARROW_HEIGHT}`,ARROW_WIDTH/2+",0",`${ARROW_WIDTH},${ARROW_HEIGHT}`],width:ARROW_WIDTH,height:ARROW_HEIGHT};case"left":return{trimlinePoints:["-0.5,0",`-0.5,${ARROW_WIDTH}`],points:["0,0",`${ARROW_HEIGHT},${ARROW_WIDTH/2}`,`0,${ARROW_WIDTH}`],width:ARROW_HEIGHT,height:ARROW_WIDTH};default:throw new Error(`Unknown placement: ${placement}`)}}_getFilterPositioning(){const{placement}=this.props;switch(placement){case"top":return{y:"-50%",x:"-50%",offsetShadowX:0};case"bottom":return null;case"left":return{y:"-50%",x:"0%",offsetShadowX:1};case"right":return{y:"-50%",x:"-100%",offsetShadowX:-1};default:throw new Error(`Unknown placement: ${placement}`)}}_maybeRenderDropshadow(points){const position=this._getFilterPositioning();if(!position)return null;const{placement}=this.props,{y,x,offsetShadowX}=position,dropShadowFilterId=`tooltip-dropshadow-${placement}-${tempIdCounter++}`;return[react.createElement("filter",{key:"filter",id:dropShadowFilterId,width:"200%",height:"200%",x,y},react.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:es.Z.xxSmall_6/2}),react.createElement("feComponentTransfer",null,react.createElement("feFuncA",{type:"linear",slope:"0.3"}))),react.createElement("g",{key:"dropshadow",transform:`translate(${offsetShadowX},5.5)`},react.createElement("polyline",{fill:dist_es.default.offBlack16,points:points.join(" "),stroke:dist_es.default.offBlack32,filter:`url(#${dropShadowFilterId})`}))]}_getFullTailWidth(){return ARROW_WIDTH+2*MIN_DISTANCE_FROM_CORNERS}_getFullTailHeight(){return ARROW_HEIGHT+DISTANCE_FROM_ANCHOR}_getContainerStyle(){const{placement}=this.props,fullTailWidth=this._getFullTailWidth(),fullTailHeight=this._getFullTailHeight();switch(placement){case"top":return{top:-1,width:fullTailWidth,height:fullTailHeight};case"right":return{left:1,width:fullTailHeight,height:fullTailWidth};case"bottom":return{top:1,width:fullTailWidth,height:fullTailHeight};case"left":return{left:-1,width:fullTailHeight,height:fullTailWidth};default:throw new Error(`Unknown placement: ${placement}`)}}_getArrowStyle(){const{placement}=this.props;switch(placement){case"top":return{marginLeft:MIN_DISTANCE_FROM_CORNERS,marginRight:MIN_DISTANCE_FROM_CORNERS,paddingBottom:DISTANCE_FROM_ANCHOR};case"right":return{marginTop:MIN_DISTANCE_FROM_CORNERS,marginBottom:MIN_DISTANCE_FROM_CORNERS,paddingLeft:DISTANCE_FROM_ANCHOR};case"bottom":return{marginLeft:MIN_DISTANCE_FROM_CORNERS,marginRight:MIN_DISTANCE_FROM_CORNERS,paddingTop:DISTANCE_FROM_ANCHOR};case"left":return{marginTop:MIN_DISTANCE_FROM_CORNERS,marginBottom:MIN_DISTANCE_FROM_CORNERS,paddingRight:DISTANCE_FROM_ANCHOR};default:throw new Error(`Unknown placement: ${placement}`)}}_renderArrow(){const{trimlinePoints,points,height,width}=this._calculateDimensionsFromPlacement(),{color}=this.props;return react.createElement("svg",{className:(0,lib.css)(es_styles$2.arrow),style:this._getArrowStyle(),width,height,"aria-hidden":!0},this._maybeRenderDropshadow(points),react.createElement("polyline",{fill:dist_es.default[color],stroke:dist_es.default[color],points:points.join(" ")}),react.createElement("polyline",{fill:dist_es.default[color],points:points.join(" "),stroke:dist_es.default.offBlack16}),react.createElement("polyline",{stroke:dist_es.default[color],points:trimlinePoints.join(" ")}))}render(){const{offset,placement,updateRef}=this.props;return react.createElement(View,{style:[es_styles$2.tailContainer,wonder_blocks_tooltip_dist_es_extends({},offset),this._getContainerStyle()],"data-placement":placement,ref:updateRef},this._renderArrow())}}TooltipTail.defaultProps={color:"white"};const DISTANCE_FROM_ANCHOR=es.Z.xSmall_8,MIN_DISTANCE_FROM_CORNERS=es.Z.xSmall_8,ARROW_WIDTH=es.Z.large_24,ARROW_HEIGHT=es.Z.small_12,es_styles$2=lib.StyleSheet.create({tailContainer:{position:"relative",pointerEvents:"none"},arrow:{overflow:"visible"}});class TooltipBubble extends react.Component{constructor(...args){super(...args),this.state={active:!1},this.handleMouseEnter=()=>{this._setActiveState(!0)},this.handleMouseLeave=()=>{this.props.onActiveChanged(!1)}}_setActiveState(active){this.setState({active}),this.props.onActiveChanged(active)}render(){const{id,children,updateBubbleRef,placement,isReferenceHidden,style,updateTailRef,tailOffset}=this.props;return react.createElement(View,{id,role:"tooltip","data-placement":placement,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:updateBubbleRef,style:[isReferenceHidden&&dist_es_styles$1.hide,dist_es_styles$1.bubble,dist_es_styles$1[`content-${placement}`],style]},react.createElement(View,{style:dist_es_styles$1.content},children),react.createElement(TooltipTail,{updateRef:updateTailRef,placement,offset:tailOffset}))}}const dist_es_styles$1=lib.StyleSheet.create({bubble:{position:"absolute"},hide:{pointerEvents:"none",opacity:0,backgroundColor:"transparent",color:"transparent"},"content-top":{flexDirection:"column"},"content-right":{flexDirection:"row-reverse"},"content-bottom":{flexDirection:"column-reverse"},"content-left":{flexDirection:"row"},content:{maxWidth:472,borderRadius:es.Z.xxxSmall_4,border:`solid 1px ${dist_es.default.offBlack16}`,backgroundColor:dist_es.default.white,boxShadow:`0 ${es.Z.xSmall_8}px ${es.Z.xSmall_8}px 0 ${dist_es.default.offBlack8}`,justifyContent:"center"}});class TooltipContent extends react.Component{_renderTitle(){const{title}=this.props;return title?"string"==typeof title?react.createElement(HeadingSmall,null,title):title:null}_renderChildren(){const{children}=this.props;return"string"==typeof children?react.createElement(LabelMedium,null,children):children}render(){const title=this._renderTitle(),children=this._renderChildren(),containerStyle=title?wonder_blocks_tooltip_dist_es_styles.withTitle:wonder_blocks_tooltip_dist_es_styles.withoutTitle;return react.createElement(View,{style:containerStyle},title,title&&children&&react.createElement(Strut,{size:es.Z.xxxSmall_4}),children)}}const wonder_blocks_tooltip_dist_es_styles=lib.StyleSheet.create({withoutTitle:{padding:`10px ${es.Z.medium_16}px`},withTitle:{padding:es.Z.medium_16}});class RefTracker{constructor(){this._lastRef=void 0,this._targetFn=void 0,this.updateRef=ref=>{if(ref){const domNode=react_dom.findDOMNode(ref);var _this$_targetFn;if(domNode instanceof HTMLElement&&domNode!==this._lastRef)this._lastRef=domNode,null==(_this$_targetFn=this._targetFn)||_this$_targetFn.call(this,domNode)}},this.setCallback=targetFn=>{if(this._targetFn!==targetFn){if(targetFn&&"function"!=typeof targetFn)throw new Error("targetFn must be a function");this._targetFn=targetFn||null,this._lastRef&&this._targetFn&&this._targetFn(this._lastRef)}}}}class TooltipPopper extends react.Component{constructor(...args){super(...args),this._bubbleRefTracker=new RefTracker,this._tailRefTracker=new RefTracker}_renderPositionedContent(popperProps){const{children}=this.props,placement=popperProps.placement||this.props.placement;this._bubbleRefTracker.setCallback(popperProps.ref),this._tailRefTracker.setCallback(popperProps.arrowProps.ref);return children({placement,style:{top:popperProps.style.top,left:popperProps.style.left,bottom:popperProps.style.bottom,right:popperProps.style.right,position:popperProps.style.position,transform:popperProps.style.transform},updateBubbleRef:this._bubbleRefTracker.updateRef,tailOffset:{bottom:popperProps.arrowProps.style.bottom,right:popperProps.arrowProps.style.right,top:popperProps.arrowProps.style.top,left:popperProps.arrowProps.style.left,transform:popperProps.arrowProps.style.transform},updateTailRef:this._tailRefTracker.updateRef,isReferenceHidden:popperProps.isReferenceHidden})}render(){const{anchorElement,placement}=this.props;return react.createElement(Popper.r,{referenceElement:anchorElement,strategy:"fixed",placement,modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport"}}]},(props=>this._renderPositionedContent(props)))}}class Tooltip extends react.Component{constructor(...args){super(...args),this.state={active:!1,activeBubble:!1}}static getDerivedStateFromProps(props,state){return{active:"boolean"==typeof props.opened?props.opened:state.active}}_updateAnchorElement(ref){ref&&ref!==this.state.anchorElement&&this.setState({anchorElement:ref})}_renderBubbleContent(){const{title,content}=this.props;return"string"==typeof content?react.createElement(TooltipContent,{title},content):title?react.cloneElement(content,{title}):content}_renderPopper(ids){const{id}=this.props,bubbleId=ids?ids.get(Tooltip.ariaContentId):id;if(!bubbleId)throw new Error("Did not get an identifier factory nor a id prop");const{placement}=this.props;return react.createElement(TooltipPopper,{anchorElement:this.state.anchorElement,placement},(props=>react.createElement(TooltipBubble,{id:bubbleId,style:props.style,tailOffset:props.tailOffset,isReferenceHidden:props.isReferenceHidden,placement:props.placement,updateTailRef:props.updateTailRef,updateBubbleRef:props.updateBubbleRef,onActiveChanged:active=>this.setState({activeBubble:active})},this._renderBubbleContent())))}_getHost(){const{anchorElement}=this.state;return maybeGetPortalMountedModalHostElement(anchorElement)||document.body}_renderTooltipAnchor(ids){const{children,forceAnchorFocusivity}=this.props,{active,activeBubble}=this.state,popperHost=this._getHost();return react.createElement(react.Fragment,null,react.createElement(TooltipAnchor,{forceAnchorFocusivity,anchorRef:r=>this._updateAnchorElement(r),onActiveChanged:active=>this.setState({active}),ids},children),popperHost&&(active||activeBubble)&&react_dom.createPortal(this._renderPopper(ids),popperHost))}render(){const{id}=this.props;return id?this._renderTooltipAnchor():react.createElement(UniqueIDProvider,{scope:"tooltip",mockOnFirstRender:!0},(ids=>this._renderTooltipAnchor(ids)))}}function wonder_blocks_popover_dist_es_extends(){return wonder_blocks_popover_dist_es_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},wonder_blocks_popover_dist_es_extends.apply(this,arguments)}Tooltip.defaultProps={forceAnchorFocusivity:!0,placement:"top"},Tooltip.ariaContentId="aria-content";const dist_es_defaultContext={close:void 0,placement:"top"};var PopoverContext=react.createContext(dist_es_defaultContext);class PopoverAnchor extends react.Component{componentDidMount(){const anchorNode=react_dom.findDOMNode(this);anchorNode&&this.props.anchorRef(anchorNode)}render(){const{children,id,onClick,"aria-controls":ariaControls,"aria-expanded":ariaExpanded}=this.props,sharedProps={id,"aria-controls":ariaControls,"aria-expanded":ariaExpanded};if("function"==typeof children){const renderedChildren=children({open:onClick});return react.cloneElement(renderedChildren,sharedProps)}return react.cloneElement(children,wonder_blocks_popover_dist_es_extends({},children.props,sharedProps,{onClick:children.props.onClick?e=>{e.stopPropagation(),children.props.onClick(),onClick()}:onClick}))}}class PopoverDialog extends react.Component{componentDidUpdate(prevProps){prevProps.placement!==this.props.placement&&this.props.onUpdate(this.props.placement)}render(){const{placement,children,id,isReferenceHidden,updateBubbleRef,updateTailRef,tailOffset,style,"aria-describedby":ariaDescribedby}=this.props,contentProps=children.props,color=contentProps.emphasized?"blue":contentProps.color;return react.createElement(react.Fragment,null,react.createElement(View,{"aria-describedby":ariaDescribedby,id,role:"dialog",ref:updateBubbleRef,"data-placement":placement,style:[isReferenceHidden&&dist_es_styles$2.hide,dist_es_styles$2[`content-${placement}`],style]},children,react.createElement(TooltipTail,{color,updateRef:updateTailRef,placement,offset:tailOffset})))}}const dist_es_styles$2=lib.StyleSheet.create({hide:{pointerEvents:"none",opacity:0,backgroundColor:"transparent",color:"transparent"},"content-top":{flexDirection:"column"},"content-right":{flexDirection:"row-reverse"},"content-bottom":{flexDirection:"column-reverse"},"content-left":{flexDirection:"row"}});function es_findFocusableNodes(root){return Array.from(root.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))}class InitialFocus extends react.Component{constructor(...args){super(...args),this.setInitialFocusableElement=node=>{const firstFocusableElement=this.maybeGetInitialFocusElement(node)||this.maybeGetFirstFocusableElement(node)||node;firstFocusableElement===node&&(node.tabIndex=-1),setTimeout((()=>{firstFocusableElement.focus()}),0)}}componentDidMount(){const node=react_dom.findDOMNode(this);node&&this.setInitialFocusableElement(node)}maybeGetInitialFocusElement(node){const{initialFocusId}=this.props;return initialFocusId?node.querySelector(`#${initialFocusId}`):null}maybeGetFirstFocusableElement(node){const focusableElements=es_findFocusableNodes(node);return focusableElements.length?focusableElements[0]:null}render(){return this.props.children}}class FocusManager extends react.Component{constructor(...args){super(...args),this.nextElementAfterPopover=void 0,this.rootNode=void 0,this.focusableElementsInPopover=[],this.addEventListeners=()=>{const{anchorElement}=this.props;anchorElement&&anchorElement.addEventListener("keydown",this.handleKeydownPreviousFocusableElement,!0),this.nextElementAfterPopover=this.getNextFocusableElement(),this.nextElementAfterPopover&&this.nextElementAfterPopover.addEventListener("keydown",this.handleKeydownNextFocusableElement,!0)},this.getNextFocusableElement=()=>{const{anchorElement}=this.props;if(!anchorElement||this.nextElementAfterPopover)return;const focusableElements=es_findFocusableNodes(document),anchorIndex=focusableElements.indexOf(anchorElement);if(anchorIndex>=0){return focusableElements[anchorIndex<focusableElements.length-1?anchorIndex+1:0]}},this.getComponentRootNode=node=>{if(!node)return;const rootNode=react_dom.findDOMNode(node);if(!rootNode)throw new Error("Assertion error: root node should exist after mount");this.rootNode=rootNode,this.focusableElementsInPopover=es_findFocusableNodes(this.rootNode)},this.handleFocusPreviousFocusableElement=()=>{this.props.anchorElement&&this.props.anchorElement.focus()},this.handleFocusNextFocusableElement=()=>{this.nextElementAfterPopover&&this.nextElementAfterPopover.focus()},this.handleKeydownPreviousFocusableElement=e=>{"Tab"!==e.key||e.shiftKey||(e.preventDefault(),this.focusableElementsInPopover[0].focus())},this.handleKeydownNextFocusableElement=e=>{if("Tab"===e.key&&e.shiftKey){e.preventDefault();const lastElementIndex=this.focusableElementsInPopover.length-1;this.focusableElementsInPopover[lastElementIndex].focus()}}}componentDidMount(){this.addEventListeners()}componentDidUpdate(){this.addEventListeners()}componentWillUnmount(){const{anchorElement}=this.props;anchorElement&&(setTimeout((()=>anchorElement.focus()),0),anchorElement.removeEventListener("keydown",this.handleKeydownPreviousFocusableElement,!0)),this.nextElementAfterPopover&&this.nextElementAfterPopover.removeEventListener("keydown",this.handleKeydownNextFocusableElement,!0)}render(){const{children}=this.props;return react.createElement(react.Fragment,null,react.createElement("div",{tabIndex:0,onFocus:this.handleFocusPreviousFocusableElement,style:{position:"fixed"}}),react.createElement("div",{ref:this.getComponentRootNode},react.createElement(InitialFocus,{initialFocusId:this.props.initialFocusId},children)),react.createElement("div",{tabIndex:0,onFocus:this.handleFocusNextFocusableElement,style:{position:"fixed"}}))}}class PopoverEventListener extends react.Component{constructor(...args){super(...args),this.state={isFirstClick:!0},this._handleKeyup=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())},this._handleClick=e=>{var _this$props$contentRe;if(this.state.isFirstClick)return void this.setState({isFirstClick:!1});const node=react_dom.findDOMNode(null==(_this$props$contentRe=this.props.contentRef)?void 0:_this$props$contentRe.current);node&&!node.contains(e.target)&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}}componentDidMount(){window.addEventListener("keyup",this._handleKeyup),window.addEventListener("click",this._handleClick)}componentWillUnmount(){window.removeEventListener("keyup",this._handleKeyup),window.removeEventListener("click",this._handleClick)}render(){return null}}class Popover extends react.Component{constructor(...args){super(...args),this.state={opened:!!this.props.opened,placement:this.props.placement},this.contentRef=react.createRef(),this.handleClose=()=>{this.setState({opened:!1},(()=>{var _this$props$onClose,_this$props;null==(_this$props$onClose=(_this$props=this.props).onClose)||_this$props$onClose.call(_this$props)}))},this.handleOpen=()=>{this.props.dismissEnabled&&this.state.opened?this.setState({opened:!1}):this.setState({opened:!0})},this.updateRef=actualRef=>{actualRef&&this.state.anchorElement!==actualRef&&this.setState({anchorElement:actualRef})}}static getDerivedStateFromProps(props,state){return{opened:"boolean"==typeof props.opened?props.opened:state.opened}}renderContent(){const{content}=this.props,popoverContents="function"==typeof content?content({close:this.handleClose}):content;return react.cloneElement(popoverContents,{ref:this.contentRef})}renderPopper(uniqueId){const{initialFocusId,placement}=this.props,{anchorElement}=this.state;return react.createElement(FocusManager,{anchorElement,initialFocusId},react.createElement(TooltipPopper,{anchorElement,placement},(props=>react.createElement(PopoverDialog,wonder_blocks_popover_dist_es_extends({},props,{"aria-describedby":`${uniqueId}-anchor`,id:uniqueId,onUpdate:placement=>this.setState({placement})}),this.renderContent()))))}getHost(){return maybeGetPortalMountedModalHostElement(this.state.anchorElement)||document.body}render(){const{children,dismissEnabled,id}=this.props,{opened,placement}=this.state,popperHost=this.getHost();return react.createElement(PopoverContext.Provider,{value:{close:this.handleClose,placement}},react.createElement(IDProvider,{id,scope:"popover"},(uniqueId=>react.createElement(react.Fragment,null,react.createElement(PopoverAnchor,{anchorRef:this.updateRef,id:`${uniqueId}-anchor`,"aria-controls":uniqueId,"aria-expanded":opened?"true":"false",onClick:this.handleOpen},children),popperHost&&opened&&react_dom.createPortal(this.renderPopper(uniqueId),popperHost)))),dismissEnabled&&opened&&react.createElement(PopoverEventListener,{onClose:this.handleClose,contentRef:this.contentRef}))}}Popover.defaultProps={placement:"top"};class es_CloseButton extends react.Component{render(){const{light,"aria-label":ariaLabel,style,testId}=this.props;return react.createElement(PopoverContext.Consumer,null,(({close})=>react.createElement(IconButton,{icon:iconAssets.dismiss,"aria-label":ariaLabel,onClick:close,kind:light?"primary":"tertiary",light,style,testId})))}}es_CloseButton.defaultProps={light:!0,"aria-label":"Close Popover"};class PopoverContentCore extends react.Component{render(){const{children,closeButtonLight,closeButtonLabel,closeButtonVisible,color,style,testId}=this.props;return react.createElement(View,{testId,style:[wonder_blocks_popover_dist_es_styles$1.content,"white"!==color&&wonder_blocks_popover_dist_es_styles$1[color],style]},closeButtonVisible&&react.createElement(es_CloseButton,{"aria-label":closeButtonLabel,light:closeButtonLight||"white"!==color,style:wonder_blocks_popover_dist_es_styles$1.closeButton,testId:`${testId||"popover"}-close-btn`}),children)}}PopoverContentCore.defaultProps={color:"white",closeButtonLight:!1,closeButtonVisible:!1};const wonder_blocks_popover_dist_es_styles$1=lib.StyleSheet.create({content:{borderRadius:es.Z.xxxSmall_4,border:`solid 1px ${dist_es.default.offBlack16}`,backgroundColor:dist_es.default.white,boxShadow:`0 ${es.Z.xSmall_8}px ${es.Z.xSmall_8}px 0 ${dist_es.default.offBlack8}`,margin:0,maxWidth:18*es.Z.medium_16,padding:es.Z.large_24,overflow:"hidden",justifyContent:"center"},blue:{backgroundColor:dist_es.default.blue,color:dist_es.default.white},darkBlue:{backgroundColor:dist_es.default.darkBlue,color:dist_es.default.white},closeButton:{position:"absolute",right:es.Z.xSmall_8,top:es.Z.xSmall_8,zIndex:1}}),StyledImage=addStyle("img");class PopoverContent extends react.Component{constructor(...args){super(...args),this.maybeRenderImage=({placement})=>{const{image}=this.props;return image?react.createElement(View,{style:[wonder_blocks_popover_dist_es_styles.image,"bottom"===placement&&wonder_blocks_popover_dist_es_styles.imageToBottom]},image):null},this.maybeRenderIcon=()=>{const{icon}=this.props;return icon?react.createElement(View,{style:wonder_blocks_popover_dist_es_styles.iconContainer},"string"!=typeof icon?icon:react.createElement(StyledImage,{src:icon,style:wonder_blocks_popover_dist_es_styles.icon})):null},this.maybeRenderActions=close=>{const{actions}=this.props;return actions?react.createElement(View,{style:wonder_blocks_popover_dist_es_styles.actions},"function"==typeof actions?actions({close}):actions):null}}componentDidMount(){const{icon,image}=this.props;if(image&&icon)throw new Error("'image' and 'icon' cannot be used at the same time. You can fix this by either removing 'image' or 'icon' from your instance.")}validateProps({placement}){if(this.props.image&&("left"===placement||"right"===placement))throw new Error("'image' can only be vertically placed. You can fix this by either changing `placement` to `top` or `bottom` or removing the `image` prop inside `content`.")}render(){const{closeButtonLabel,closeButtonVisible,content,emphasized,icon,image,style,title,testId}=this.props;return react.createElement(PopoverContext.Consumer,null,(({close,placement})=>(this.validateProps({close,placement}),react.createElement(PopoverContentCore,{color:emphasized?"blue":"white",closeButtonLight:image&&"top"===placement,closeButtonLabel,closeButtonVisible,style,testId},react.createElement(View,{style:!!icon&&wonder_blocks_popover_dist_es_styles.withIcon},this.maybeRenderImage({placement}),this.maybeRenderIcon(),react.createElement(View,{style:wonder_blocks_popover_dist_es_styles.text},react.createElement(HeadingSmall,{style:wonder_blocks_popover_dist_es_styles.title},title),react.createElement(Body,null,content))),this.maybeRenderActions(close)))))}}PopoverContent.defaultProps={closeButtonVisible:!1};const wonder_blocks_popover_dist_es_styles=lib.StyleSheet.create({actions:{marginTop:es.Z.large_24,flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},text:{justifyContent:"center"},title:{marginBottom:es.Z.xSmall_8},iconContainer:{alignItems:"center",justifyContent:"center",height:es.Z.xxxLarge_64,width:es.Z.xxxLarge_64,minWidth:es.Z.xxxLarge_64,marginRight:es.Z.medium_16,overflow:"hidden"},icon:{width:"100%"},withIcon:{flexDirection:"row"},image:{marginBottom:es.Z.large_24,marginLeft:-es.Z.large_24,marginRight:-es.Z.large_24,marginTop:-es.Z.large_24,width:`calc(100% + ${2*es.Z.large_24}px)`},imageToBottom:{marginBottom:-es.Z.large_24,marginTop:es.Z.large_24,order:1}})}}]);